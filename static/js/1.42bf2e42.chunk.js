"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[1],{1:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var r=t(6871),a=t(1614),i=t(1889),o=t(6403),s=t(6151),c=t(4554),l=t(890),u=t(4708),d=t(885),f=t(2791),h=t(5562),m=t.n(h),x=t(4430),p=t(4922),g=t(2138),j=t(5899),v="Spinner_spinner__H2HDD",Z=t(184),b=function(n){var e=n.size;return(0,Z.jsx)(j.frZ,{size:e,className:v})},C=function(){var n=function(){var n=(0,x.wY)().data,e=(0,x.Tn)(),t=(0,d.Z)(e,2),r=t[0],a=t[1],i=a.isError,o=a.isLoading,s=a.isSuccess,c=(0,f.useState)(""),l=(0,d.Z)(c,2),u=l[0],h=l[1],j=(0,f.useState)(""),v=(0,d.Z)(j,2),Z=v[0],b=v[1],C=(0,f.useState)(!1),w=(0,d.Z)(C,2),y=w[0],S=w[1],P=(0,f.useState)(!1),N=(0,d.Z)(P,2),E=N[0],L=N[1];(0,f.useEffect)((function(){s&&(m().Notify.success("Contact  is created!"),k())}),[s]),(0,f.useEffect)((function(){i&&m().Notify.error("Something was wrong")}),[i]);var k=function(){h(""),b(""),S(!1),L(!1)};return{name:u,phone:Z,handleAddContact:function(e){if(e.preventDefault(),n.map((function(n){return n.name})).find((function(n){return n.toLowerCase()===u.toLowerCase()})))return S(!0),m().Notify.warning("".concat(u," is already in contacts "));if(S(!1),(0,g.U)(Z))return L(!0);var t={name:(0,p.Q)(u),number:Z};r(t)},handleChangeName:function(n){return h(n.currentTarget.value)},handleChangePhone:function(n){return b(n.currentTarget.value)},isLoading:o,nameError:y,phoneError:E}}(),e=n.name,t=n.phone,r=n.handleAddContact,a=n.handleChangeName,h=n.handleChangePhone,j=n.isLoading,v=n.nameError,C=n.phoneError;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(l.Z,{component:"h1",variant:"h4",sx:{textAlign:"center",marginBottom:2,letterSpacing:2,color:"Highlight"},children:"Phonebook"}),(0,Z.jsxs)(c.Z,{sx:{padding:4,bgcolor:"#fff",borderRadius:4,"&:hover":{boxShadow:"0px 0px 42px -20px rgba(0,0,0,0.3)"}},children:[(0,Z.jsx)(u.ZP,{}),(0,Z.jsxs)(c.Z,{component:"form",noValidate:!0,onSubmit:r,sx:{},children:[(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(o.Z,{error:v,type:"text",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",variant:"standard",onChange:a,value:e})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(o.Z,{type:"tel",error:C,required:!0,fullWidth:!0,id:"number",label:"Phone",name:"number",variant:"standard",onChange:h,value:t,onKeyPress:function(n){return!/[0-9]/.test(n.key)&&n.preventDefault()}})})]}),(0,Z.jsxs)(s.Z,{type:"submit",disabled:e.length<3,fullWidth:!0,variant:"contained",sx:{mt:3},children:["Add contact ",j&&(0,Z.jsx)(b,{size:20})]})]})]})]})},w=t(5048),y=t(5193),S=t(1538),P=function(n){return n.contacts.filter},N=function(){var n=(0,w.I0)(),e=(0,w.v9)(P),t=(0,y.Z)("(min-width:600px)");return(0,Z.jsxs)(c.Z,{component:"div",sx:{marginTop:"".concat(t?"0px":"25px")},children:[(0,Z.jsx)(l.Z,{component:"h2",variant:"h4",sx:{textAlign:"center",marginBottom:2,letterSpacing:2,color:"Highlight"},children:"Contacts"}),(0,Z.jsx)(o.Z,{fullWidth:!0,id:"filter",label:"Find contact by name",name:"filter",variant:"standard",onChange:function(e){n((0,S.T)(e.currentTarget.value))},value:e,sx:{"& label":{fontSize:14}}})]})},E=t(3400),L=t(7247),k=t(1286),_=function(n){var e=n.contact,t=e.id,a=e.name,i=e.number,o=(0,r.s0)(),s=(0,x.Nt)(),u=(0,d.Z)(s,2),h=u[0],p=u[1],g=p.isLoading,j=p.isSuccess;return(0,f.useEffect)((function(){return function(){j&&m().Notify.failure("You have removed ".concat(a," from your list"))}}),[a,j]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(c.Z,{component:"li",sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(l.Z,{component:"p",variant:"span",sx:{width:"45%",fontWeight:"700"},children:a.toUpperCase()}),(0,Z.jsx)(l.Z,{component:"p",variant:"span",sx:{textAlign:"left",fontWeight:"500"},children:i}),(0,Z.jsx)(E.Z,{"aria-label":"edit",onClick:function(){return o("/contacts/edit/".concat(t))},sx:{marginLeft:"auto","&:hover, &:focus":{bgcolor:"#9ddb8c",color:"#1a821a"}},children:(0,Z.jsx)(k.Z,{})}),(0,Z.jsx)(E.Z,{"aria-label":"delete",onClick:function(){return h(t)},disabled:g,sx:{marginLeft:"3px","&:hover, &:focus":{bgcolor:"#f3dacf",color:"#d31616"}},children:g?(0,Z.jsx)(b,{size:20}):(0,Z.jsx)(L.Z,{})})]})})},T="ContactList_error__hlnhE",A=function(){var n=(0,x.wY)(),e=n.data,t=n.isError,r=n.refetch,a=(0,w.v9)(P),i=function(){var n=a.toLowerCase().trim();return null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n)}))}();return(0,f.useEffect)((function(){r()}),[r]),(0,Z.jsxs)(c.Z,{component:"ul",sx:{display:"flex",flexDirection:"column",rowGap:1,width:"100%",marginTop:2},children:[e&&(0,Z.jsx)(Z.Fragment,{children:0!==i.length?i.map((function(n){return(0,Z.jsx)(_,{contact:n},n.id)})):(0,Z.jsx)("li",{className:T,children:"Not found name"})}),t&&(0,Z.jsx)("li",{children:"Ups, something was wrong! Reload page, please"})]})},W=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.Z,{component:"main",sx:{paddingTop:4},children:(0,Z.jsxs)(i.ZP,{container:!0,columnSpacing:{sm:5,md:10},children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,sm:5,children:(0,Z.jsx)(C,{})}),(0,Z.jsxs)(i.ZP,{item:!0,xs:12,sm:7,sx:{},children:[(0,Z.jsx)(N,{}),(0,Z.jsx)(A,{})]})]})}),(0,Z.jsx)(r.j3,{})]})}},4922:function(n,e,t){t.d(e,{Q:function(){return r}});var r=function(n){return""===n?"":n.trim().split(/\s+/).map((function(n){return n[0].toUpperCase()+n.substring(1)})).join(" ")}},2138:function(n,e,t){t.d(e,{U:function(){return i}});var r=t(5562),a=t.n(r),i=function(n){return(n.length<7||""===n)&&(a().Notify.warning("Phone must have 7 character min"),!0)}}}]);
//# sourceMappingURL=1.42bf2e42.chunk.js.map