{"version":3,"file":"static/js/509.f95c74d8.chunk.js","mappings":"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","sources":["components/Modal.jsx","components/EditContactModal/EditContactModal.jsx","hooks/useEditContactModal.js","services/normalizedName.js","services/validationPhone.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n//Material UI\nimport Container from '@mui/material/Container';\n\nconst Modal = ({ children }) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        navigate('/contacts');\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [navigate]);\n\n  const handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      navigate('/contacts');\n    }\n  };\n\n  return (\n    <Container\n      maxWidth=\"false\"\n      component=\"div\"\n      onClick={handleBackdropClick}\n      sx={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        bgcolor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 1200,\n      }}\n    >\n      {children}\n    </Container>\n  );\n};\n\nexport default Modal;\n","//Material UI\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\n//Local import\nimport Modal from 'components/Modal';\nimport { useEditContactModal } from 'hooks/useEditContactModal';\n\nconst EditContactModal = () => {\n  const {\n    name,\n    phone,\n    nameError,\n    phoneError,\n    handleChangeName,\n    handleChangePhone,\n    handleEditContact,\n  } = useEditContactModal();\n\n  return (\n    <Modal>\n      <Box\n        width={{ xs: '75%', sm: '50%', md: '35%', lg: '25%', xl: '20%' }}\n        padding={{ xs: 3, sm: 4 }}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 4,\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          boxShadow: '0px 0px 42px -20px rgba(0,0,0,0.3)',\n        }}\n      >\n        <Typography\n          component=\"h2\"\n          variant=\"h6\"\n          sx={{\n            textAlign: 'center',\n            marginBottom: 2,\n          }}\n        >\n          Edit contact\n        </Typography>\n\n        <Box component=\"form\" noValidate onSubmit={handleEditContact} sx={{}}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                id=\"name\"\n                label=\"Name\"\n                name=\"name\"\n                error={nameError}\n                onChange={handleChangeName}\n                value={name}\n                variant=\"standard\"\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                id=\"number\"\n                label=\"Number\"\n                name=\"number\"\n                error={phoneError}\n                onChange={handleChangePhone}\n                value={phone}\n                variant=\"standard\"\n                onKeyPress={e => !/[0-9]/.test(e.key) && e.preventDefault()}\n              />\n            </Grid>\n          </Grid>\n\n          <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3 }}>\n            Edit contact\n          </Button>\n        </Box>\n      </Box>\n    </Modal>\n  );\n};\n\nexport default EditContactModal;\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n//Local import\nimport Notiflix from 'notiflix';\nimport { useEditContactMutation, useGetContactsQuery } from 'redux/api';\nimport { normalizedName } from 'services/normalizedName';\nimport { validationPhone } from 'services/validationPhone';\n\nexport const useEditContactModal = () => {\n  const { contactId } = useParams();\n  const navigate = useNavigate();\n\n  const { data: contacts } = useGetContactsQuery();\n\n  const prevContact = contacts\n    .filter(({ id }) => id === contactId)\n    .reduce((_, contact) => contact, {});\n\n  const [editContact, { isError, isSuccess }] = useEditContactMutation();\n\n  const [name, setName] = useState(prevContact.name);\n  const [phone, setPhone] = useState(prevContact.number);\n  const [nameError, setNameError] = useState(false);\n  const [phoneError, setPhoneError] = useState(false);\n\n  const handleChangeName = e => setName(e.currentTarget.value);\n  const handleChangePhone = e => setPhone(e.currentTarget.value);\n\n  const handleEditContact = event => {\n    event.preventDefault();\n\n    if (prevContact.name === name && prevContact.number === phone) {\n      navigate('/contacts');\n      return;\n    }\n\n    const contactsName = contacts.map(contact => contact.name);\n\n    const isMatchName = contactsName.some(\n      contactName => contactName.toLowerCase() === name.toLowerCase()\n    );\n\n    if (isMatchName && prevContact.name !== name) {\n      setNameError(true);\n      return Notiflix.Notify.warning(`${name} is already in contacts `);\n    } else {\n      setNameError(false);\n    }\n\n    const isValidationPhoneError = validationPhone(phone);\n\n    if (isValidationPhoneError) {\n      return setPhoneError(true);\n    }\n\n    const newEditContact = {\n      name: normalizedName(name),\n      number: phone,\n    };\n\n    editContact({ id: prevContact.id, payload: { ...newEditContact } });\n  };\n\n  useEffect(() => {\n    if (isSuccess) {\n      Notiflix.Notify.success(`Contact ${name} update`);\n      navigate('/contacts');\n    }\n  }, [isSuccess, navigate, name]);\n\n  useEffect(() => {\n    if (isError) {\n      Notiflix.Notify.error(`Something was wrong`);\n    }\n  }, [isError]);\n\n  return {\n    name,\n    phone,\n    nameError,\n    phoneError,\n    handleChangeName,\n    handleChangePhone,\n    handleEditContact,\n  };\n};\n","export const normalizedName = name => {\n  if (name === '') return '';\n\n  return name\n    .trim()\n    .split(/\\s+/)\n    .map(word => word[0].toUpperCase() + word.substring(1))\n    .join(' ');\n};\n","import Notiflix from 'notiflix';\n\nexport const validationPhone = phone => {\n  if (phone.length < 7 || phone === '') {\n    Notiflix.Notify.warning('Phone must have 7 character min');\n    return true;\n  } else {\n    return false;\n  }\n};\n"],"names":["children","navigate","useNavigate","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","Container","maxWidth","component","onClick","target","currentTarget","sx","position","top","left","width","height","display","justifyContent","alignItems","bgcolor","zIndex","contactId","useParams","contacts","useGetContactsQuery","data","prevContact","filter","id","reduce","_","contact","useEditContactMutation","editContact","isError","isSuccess","useState","name","setName","number","phone","setPhone","nameError","setNameError","phoneError","setPhoneError","Notiflix","handleChangeName","e","value","handleChangePhone","handleEditContact","preventDefault","map","some","contactName","toLowerCase","validationPhone","newEditContact","normalizedName","payload","useEditContactModal","Box","xs","sm","md","lg","xl","padding","borderRadius","transform","boxShadow","Typography","variant","textAlign","marginBottom","noValidate","onSubmit","Grid","container","spacing","item","TextField","required","fullWidth","label","error","onChange","onKeyPress","test","key","Button","type","mt","trim","split","word","toUpperCase","substring","join","length"],"sourceRoot":""}