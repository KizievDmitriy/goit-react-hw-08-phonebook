"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[509],{5509:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r=t(4554),a=t(6151),o=t(1889),i=t(6403),c=t(890),u=t(2791),s=t(6871),d=t(1614),f=t(184),l=function(n){var e=n.children,t=(0,s.s0)();(0,u.useEffect)((function(){var n=function(n){"Escape"===n.code&&t("/contacts")};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[t]);return(0,f.jsx)(d.Z,{maxWidth:"false",component:"div",onClick:function(n){n.target===n.currentTarget&&t("/contacts")},sx:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1200},children:e})},m=t(1413),h=t(885),p=t(5562),x=t.n(p),g=t(4430),v=t(4922),b=t(2138),w=function(){var n=function(){var n=(0,s.UO)().contactId,e=(0,s.s0)(),t=(0,g.wY)().data,r=t.filter((function(e){return e.id===n})).reduce((function(n,e){return e}),{}),a=(0,g.i)(),o=(0,h.Z)(a,2),i=o[0],c=o[1],d=c.isError,f=c.isSuccess,l=(0,u.useState)(r.name),p=(0,h.Z)(l,2),w=p[0],C=p[1],Z=(0,u.useState)(r.number),E=(0,h.Z)(Z,2),j=E[0],y=E[1],k=(0,u.useState)(!1),N=(0,h.Z)(k,2),S=N[0],P=N[1],U=(0,u.useState)(!1),L=(0,h.Z)(U,2),W=L[0],_=L[1];return(0,u.useEffect)((function(){f&&(x().Notify.success("Contact ".concat(w," update")),e("/contacts"))}),[f,e,w]),(0,u.useEffect)((function(){d&&x().Notify.error("Ups! Something was wrong")}),[d]),{name:w,phone:j,nameError:S,phoneError:W,handleChangeName:function(n){return C(n.currentTarget.value)},handleChangePhone:function(n){return y(n.currentTarget.value)},handleEditContact:function(n){if(n.preventDefault(),r.name!==w||r.number!==j){if(t.map((function(n){return n.name})).some((function(n){return n.toLowerCase()===w.toLowerCase()}))&&r.name!==w)return P(!0),x().Notify.warning("".concat(w," is already in contacts "));if(P(!1),(0,b.U)(j))return _(!0);var a={name:(0,v.Q)(w),number:j};i({id:r.id,payload:(0,m.Z)({},a)})}else e("/contacts")}}}(),e=n.name,t=n.phone,d=n.nameError,p=n.phoneError,w=n.handleChangeName,C=n.handleChangePhone,Z=n.handleEditContact;return(0,f.jsx)(l,{children:(0,f.jsxs)(r.Z,{width:{xs:"75%",sm:"50%",md:"35%",lg:"25%",xl:"20%"},padding:{xs:3,sm:4},sx:{bgcolor:"#fff",borderRadius:4,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:"0px 0px 42px -20px rgba(0,0,0,0.3)"},children:[(0,f.jsx)(c.Z,{component:"h2",variant:"h6",sx:{textAlign:"center",marginBottom:2},children:"Edit contact"}),(0,f.jsxs)(r.Z,{component:"form",noValidate:!0,onSubmit:Z,sx:{},children:[(0,f.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(i.Z,{required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",error:d,onChange:w,value:e,variant:"standard"})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(i.Z,{required:!0,fullWidth:!0,id:"number",label:"Number",name:"number",error:p,onChange:C,value:t,variant:"standard",onKeyPress:function(n){return!/[0-9]/.test(n.key)&&n.preventDefault()}})})]}),(0,f.jsx)(a.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3},children:"Edit contact"})]})]})})}},4922:function(n,e,t){t.d(e,{Q:function(){return r}});var r=function(n){return""===n?"":n.trim().split(/\s+/).map((function(n){return n[0].toUpperCase()+n.substring(1)})).join(" ")}},2138:function(n,e,t){t.d(e,{U:function(){return o}});var r=t(5562),a=t.n(r),o=function(n){return(n.length<7||""===n)&&(a().Notify.warning("Phone must have 7 character min"),!0)}}}]);
//# sourceMappingURL=509.2a8680f9.chunk.js.map